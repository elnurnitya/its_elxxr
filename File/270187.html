<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halaman Foto dan Surat</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        /* Styling yang ada di sini tetap sama */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            position: relative;
            color: #fff;
            overflow-x: hidden;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Memastikan body selalu setidaknya setinggi layar */
            background-color: #000; /* Menambahkan latar belakang hitam untuk tampilan kontras */
            padding: 0 20px; /* Margin horizontal */
        }
        .background-gif {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            object-fit: cover;
            filter: grayscale(100%);
            opacity: 0.5;
        }
        .content {
            position: relative;
            z-index: 1;
            padding: 20px;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border-radius: 8px;
            max-width: 100%; /* Pastikan konten tidak melebihi lebar body */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }
        .header h1 {
            font-family: 'Playfair Display', serif;
            color: #f8e5d0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            margin: 0;
        }
        .gallery img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5);
            transition: transform 0.3s ease;
        }
        .button {
            display: inline-block;
            background-color: #f8e5d0;
            color: #000;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 1em;
            font-family: 'Playfair Display', serif;
            cursor: pointer;
            margin: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: background-color 0.3s ease, transform 0.3s ease;
        }
        .button:hover {
            background-color: #f1d8c0;
            transform: scale(1.05);
        }
        .audio-player {
            margin-top: 20px;
        }
        .letter-container {
            display: none;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            color: #000;
            max-width: 800px;
            margin: 20px auto;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5);
        }
        .thumbnails {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, auto);
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        .thumbnails img {
            width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5);
        }
        .feedback-container {
            display: none;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            color: #000;
            max-width: 800px;
            margin: 20px auto;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5);
        }
        .feedback-container textarea {
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            font-size: 1em;
            margin-bottom: 10px;
        }
        .feedback-container button {
            display: inline-block;
            background-color: #f8e5d0;
            color: #000;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
    </style>
</head>
<body>

    <!-- GIF Background -->
    <video class="background-gif" autoplay loop muted>
        <source src="https://media.giphy.com/media/3o8cHEmJxK09PyJBAs/giphy.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Konten Utama -->
    <div class="content" id="mainContent">

        <!-- Gallery Foto -->
        <div class="gallery" id="gallery">
            <img id="currentImage" src="../Foto/Agnes%201.jpeg" alt="Foto">
        </div>

        <!-- Tombol Next -->
        <div style="text-align:center;">
            <button class="button" id="nextButton" onclick="showNextImage()">Next</button>
        </div>

    </div>

    <!-- Kontainer Surat dan Thumbnail -->
    <div class="letter-container" id="letterContainer">
        <div class="thumbnails" id="thumbnailsContainer">
            <!-- Thumbnails will be generated here -->
        </div>
        <h2>Surat Untuk Orang Istimewa</h2>
        <p>Dear Agnes Febriani Sipayung,</p>
        <p>Udah lama ya gua ga buat ginian.<br>Waktu lu baca ini, berarti gua udah berangkat ke China.<br><br>Inget ga awal kita ketemu? Sebelum kita ketemu, gua masih inget banget liat ada anak baru datang pake baju biasa. Awalnya gua mikir ini cewek cakep pasti deketnya sama Dinda dll.
        Tapi ternyata salah gua ya hahaha.<br><br>Tapi semenjak pertemuan itu hanya 2 tahun aja kita bersama sebelum pisah lagi, selebihnya gua udah ga inget apa-apa. Memori gua hanya dikit, gua hanya bisa inget dari setiap foto aja. Ternyata awal pertemuan itu jadi awal persahabatan kita ya.<br><br>Ga kerasa
        udah 12 tahun kita sahabatan. Mulai dari SMP, SMA masih suka nanya kabar, Kuliah bareng, bahkan kerja selalu nyempetin kunjungin satu sama lain. Ga cape nes bareng gua mulu? Hahahaha<br><br>Sebelum gua pergi, hal yang sering gua pikirin adalah apakah gua siap kehilangan orang-orang yang gua sayang. Gimana pun ada kemungkinan kita ga akan komunikasi, ga akan saling tanya kabar lagi.
        <br>Gua selalu berjanji ke diri gua buat ga nangisin hal ini, tapi kalau inget lu dan yang lain gua ga bisa ga nangis. Karena kalian yang nemenin gua saat keluarga gua pun ga ada.<br><br>Gua ga mau janji apa-apa ke lu nes.
        Lu boleh nangis sehebat dan sekuat apapun, karena gua ga bisa ada disamping lu untuk kedepannya. Kalau ada yang buat lu sedih, takut, marah, jangan di pendem. Jangan kaya gua yang memilih untuk kabur menyelamatkan hati gua sendiri.<br><br>
        Gua ga bisa sejauh ini tanpa dukungan dari lu. Kalau Tuhan mengkehendaki kita untuk bertemu lagi, Tuhan pasti akan selalu nyiapin rencana indah. Mau ga mau ini adalah perpisahan kita nes. 12 tahun sahabatan sama lu, ga ada 1 kali pun gua sesali karena ketemu lu di hidup ini.
        <br><br>Note gua, jangan terlalu effort untuk seseorang yang effortnya ga sama kaya lu ya. Gua sayang banget sama lu. Sampai jumpa sayang ku. Tuhan akan menyertai mu kemanapun kau pergi. Begitu pun doaku tentang mu akan terus ada setiap malam.</p>
        <p>Salam hangat,</p>
        <p>Helpin Elnur Nitya</p>
        <!-- Tombol Kirim Feedback -->
        <button class="button" id="feedbackButton" onclick="showFeedbackContainer()">Kirim Feedback</button>
    </div>

    <!-- Kontainer Feedback -->
    <div class="feedback-container" id="feedbackContainer">
        <h2>Send Feedback</h2>
        <textarea id="popupFeedbackText" rows="4" placeholder="Tulis kata hati Anda..."></textarea>
        <button class="button" onclick="sendFeedback()">Kirim Feedback</button>
    </div>

    <!-- Audio Player -->
    <audio id="bgAudio" src="../Media/MAHALINI - SAMPAI MENUTUP MATA (OFFICIAL MUSIC VIDEO) (1).mp3" preload="auto"></audio>

    <script>
        // Daftar gambar untuk gallery
        const images = [
            "../Foto/Agnes%201.jpeg",
            "../Foto/Agnes%202.jpeg",
            "../Foto/Agnes%203.jpeg",
            "../Foto/Agnes%204.jpeg",
            "../Foto/Agnes%205.jpeg",
            "../Foto/Agnes%206.jpeg"
        ];

        let currentIndex = 0;

        // Fungsi untuk menampilkan gambar berikutnya
        function showNextImage() {
            currentIndex++;
            if (currentIndex >= images.length) {
                showLetterContainer(); // Menampilkan kontainer surat saat gambar terakhir
            } else {
                document.getElementById("currentImage").src = images[currentIndex];
            }
        }

        // Fungsi untuk menampilkan kontainer surat
        function showLetterContainer() {
            const letterContainer = document.getElementById('letterContainer');
            const thumbnailsContainer = document.getElementById('thumbnailsContainer');
            const gallery = document.getElementById('gallery');
            const nextButton = document.getElementById('nextButton');
            const feedbackButton = document.getElementById('feedbackButton');

            // Sembunyikan galeri dan tombol Next
            gallery.style.display = 'none';
            nextButton.style.display = 'none';

            // Buat thumbnail untuk semua gambar
            images.forEach(src => {
                const imgElement = document.createElement('img');
                imgElement.src = src;
                thumbnailsContainer.appendChild(imgElement);
            });

            letterContainer.style.display = 'block'; // Tampilkan kontainer surat
            feedbackButton.style.display = 'block'; // Pastikan tombol Kirim Feedback ditampilkan
        }

        // Fungsi untuk menampilkan kontainer feedback
        function showFeedbackContainer() {
            document.getElementById('feedbackContainer').style.display = 'block';
            document.getElementById('feedbackButton').style.display = 'none'; // Sembunyikan tombol Kirim Feedback
        }

        // Fungsi untuk mengirim feedback
        function sendFeedback() {
            const feedbackText = document.getElementById('popupFeedbackText').value;
            if (feedbackText.trim() !== '') {
                const encodedFeedback = encodeURIComponent(feedbackText);
                const phoneNumber = '6287893386019';
                const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodedFeedback}`;
                window.open(whatsappURL, '_blank');
                document.getElementById('popupFeedbackText').value = ''; // Kosongkan textarea
            } else {
                alert('Tolong tulis feedback Anda.');
            }
        }

        // Autoplay audio dan mulai dari detik ke-15
        window.addEventListener('load', () => {
            const audio = document.getElementById('bgAudio');
            audio.currentTime = 15;
            audio.play().then(() => {
                console.log('Audio mulai diputar');
            }).catch(error => {
                console.log('Audio tidak bisa diputar:', error);
            });

            audio.addEventListener('ended', () => {
                audio.currentTime = 15;
                audio.play().catch(error => {
                    console.log('Audio tidak bisa diputar setelah selesai:', error);
                });
            });
        });
    </script>

</body>
</html>
